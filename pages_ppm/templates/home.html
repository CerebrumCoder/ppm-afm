{% extends "base.html" %}
{% load static %}

{% block title %}Beranda - PPM Al-Faqih Mandiri{% endblock %}

{% block content %}
<style>
  /* Carousel logo kampus */
  .uni-carousel-viewport {
    overflow: hidden;
  }

  .uni-carousel-track {
    display: flex;
    gap: 1.5rem;
    width: max-content;
    animation: uni-scroll 35s linear infinite;
  }

  .uni-carousel-track:hover {
    animation-play-state: paused;
  }

  @keyframes uni-scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
</style>

<!-- HERO SECTION -->
<section id="home" class="relative mb-10 overflow-hidden rounded-3xl bg-[var(--primary-color)] text-white dark:bg-[var(--primary-color)]">
  <!-- Background video (opsional) -->
  <div class="absolute inset-0 opacity-50">
    <video
      class="h-full w-full object-cover"
      playsinline
      autoplay
      muted
      loop
      preload="metadata"     
    >
      <source src="https://drive.bayar.id/s/M4AXczOCzRPKt87/download" type="video/webm">
    </video>
    <div class="absolute inset-0 bg-gradient-to-r from-black/60 via-black/40 to-black/70"></div>
  </div>

  <div class="relative z-10 px-6 py-12 sm:px-10 lg:px-14 lg:py-16">
    <div class="grid gap-10 lg:grid-cols-[minmax(0,3fr)_minmax(0,2fr)] lg:items-center">
      <!-- Text -->
      <div class="space-y-5">
        <span class="inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-lime-200">
          Rumah kedua bagi mahasiswa pencari ilmu & akhlak
        </span>
        <h1 class="text-3xl font-semibold leading-tight sm:text-4xl lg:text-5xl">
          Pondok Pesantren Mahasiswa
          <span class="block font-bold text-[var(--nav-link-color-active)]">
            Al-Faqih Mandiri
          </span>
        </h1>
        <p class="max-w-xl text-sm leading-relaxed text-slate-100 sm:text-base">
          Tempat pembinaan mahasiswa untuk tumbuh dalam akhlak, ilmu, dan kontribusi nyata bagi masyarakat
          di tengah lingkungan kampus-kampus ternama Depok dan sekitarnya.
        </p>

        <div class="flex flex-wrap items-center gap-3 pt-1">
          <a
            href="{% url 'pages:company_profile' %}"
            class="inline-flex items-center justify-center rounded-full bg-[var(--nav-link-color-active)] px-5 py-2.5 text-sm font-semibold text-[var(--primary-color)] shadow hover:bg-lime-300"
          >
            Kenal Lebih Dekat AFM
          </a>
          <a
            href="#pendaftaran"
            class="inline-flex items-center justify-center rounded-full border border-lime-200/70 px-4 py-2 text-xs font-medium text-lime-100 hover:bg-white/10"
          >
            Info Pendaftaran
          </a>
        </div>
      </div>

      <!-- Highlight cards -->
      <div class="grid gap-4 sm:grid-cols-2">
        <div class="rounded-2xl bg-gradient-to-br from-[var(--card-left-color)] to-[var(--card-right-color)] p-4 text-[var(--primary-color)] shadow-lg">
          <p class="text-xs font-semibold uppercase tracking-wide text-emerald-900/80">
            Fokus Pembinaan
          </p>
          <h3 class="mt-1 text-lg font-bold leading-snug">
            Kajian Quran & Hadist <br> Berjenjang
          </h3>
          <p class="mt-1 text-xs text-emerald-950/70">
            Sesi Qurâ€™an & Hadits 2Ã— sehari, nasihat pekanan, serta bimbingan akademik.
          </p>
        </div>

        <div class="flex flex-col gap-4">
          <div class="rounded-2xl bg-black/40 p-4 shadow-lg ring-1 ring-white/10">
            <p class="text-xs font-semibold uppercase tracking-wide text-lime-200/90">
              Lingkungan
            </p>
            <h3 class="text-lg font-bold leading-snug">
              8+ Kampus Ternama <br> di Sekitar PPM
            </h3>
            <p class="mt-1 text-[11px] text-slate-100/80">
              Lokasi strategis di jantung kawasan pendidikan Depok.
            </p>
          </div>

          <div class="flex flex-row items-center justify-between rounded-2xl bg-black/30 p-4 shadow-lg ring-1 ring-white/10">
            <div>
              <p class="text-xs font-semibold uppercase tracking-wide text-lime-200/90">
                Mahasiswa Aktif
              </p>
              <p class="text-2xl font-bold leading-tight">
                {{ stats.total_mahasiswa }}<span class="text-sm font-semibold"></span>
              </p>
              <p class="text-[11px] text-slate-100/80">*Data per Januari 2025</p>
            </div>
            <div class="flex flex-col gap-2 text-right text-[11px]">
              <p>{{ stats.dewan_guru | default:0 }} Dewan Guru</p>
              <p>{{ stats.mahasiswa | default:0 }} Mahasiswa</p>
              <p>{{ stats.mahasiswi | default:0 }} Mahasiswi</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- TENTANG AFM -->
<section id="aboutme" class="mb-12 rounded-3xl bg-slate-50 px-4 py-10 shadow-sm dark:bg-slate-900/60">
  <div class="mx-auto max-w-5xl">
    <div class="mb-6 text-center">
      <h2 class="text-xl font-semibold tracking-tight sm:text-2xl">
        Tentang PPM AFM
      </h2>
      <div class="mt-2 h-1 w-20 rounded-full bg-[var(--nav-link-color-active)] mx-auto"></div>
    </div>

    <div class="grid gap-8 md:grid-cols-[minmax(0,3fr)_minmax(0,2fr)] md:items-start">
      <!-- Gambar / grid foto kegiatan -->
      <div class="grid gap-3 sm:grid-cols-2">
        <div class="overflow-hidden rounded-2xl">
          <img
            src="{% static 'img/kegiatan/ngaji.JPG' %}"
            alt="Kegiatan ngaji santri"
            class="h-full w-full object-cover transition-transform duration-500 hover:scale-105"
          />
        </div>
        <div class="grid gap-3">
          <div class="overflow-hidden rounded-2xl">
            <img
              src="{% static 'img/kegiatan/ngaji-2.JPG' %}"
              alt="Kegiatan tahajud"
              class="h-full w-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="overflow-hidden rounded-2xl">
            <img
              src="{% static 'img/kegiatan/tahajud.jpeg' %}"
              alt="Kegiatan totalan"
              class="h-full w-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
        </div>
      </div>

      <!-- Deskripsi -->
      <div class="space-y-4 text-sm leading-relaxed text-slate-700 dark:text-slate-100">
        <p>
          Pondok Pesantren Mahasiswa (PPM) Al-Faqih Mandiri adalah pondok pesantren bagi mahasiswa/i
          yang berkuliah di Depok dan sekitarnya, dengan visi mencetak sarjana yang
          <span class="font-semibold">profesional, religius, dan berkontribusi nyata</span> dalam perjuangan dan dakwah.
        </p>

        <div>
          <h3 class="mb-2 text-sm font-semibold">
            ğŸ•Œ Kegiatan Rutin PPM AFM:
          </h3>
          <ul class="ml-4 list-disc space-y-1">
            <li>Sesi Al-Qurâ€™an & Hadits dengan guru setelah Subuh dan Isya (2Ã— sehari).</li>
            <li>Salat Tahajud berjamaah setiap Selasa dan Jumat malam.</li>
            <li>Nasihat Baâ€™da Maghrib setiap Senin dan Rabu.</li>
            <li>Piket totalan (bersih-bersih asrama) setiap Sabtu.</li>
            <li>Latihan silat ASAD dan kegiatan pembinaan karakter lainnya.</li>
          </ul>
        </div>

        <div class="pt-2 text-center md:text-left">
          <p class="text-xs text-slate-600 dark:text-slate-300">Ingin tahu PPM AFM lebih banyak?</p>
          <a
            href="{% url 'pages:company_profile' %}"
            class="mt-2 inline-flex items-center justify-center rounded-full bg-[var(--nav-link-color-active)] px-4 py-2 text-xs font-semibold text-[var(--primary-color)] shadow hover:bg-lime-300"
          >
            Lihat lebih banyak di Tentang AFM
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- KAMPUS SEKITAR -->
<section id="nearest" class="mb-12">
  <div class="mx-auto max-w-5xl">
    <div class="mb-4 text-center">
      <h2 class="text-xl font-semibold tracking-tight sm:text-2xl">
        Kampus-kampus Ternama Sekitar
      </h2>
      <p class="mt-1 text-xs text-slate-600 dark:text-slate-300">
        Lokasi PPM AFM berada di tengah kawasan pendidikan strategis Depok.
      </p>
    </div>

    <div class="relative overflow-hidden rounded-3xl border border-slate-200 bg-white px-4 py-4 shadow-sm dark:border-slate-700">
      <div class="uni-carousel-viewport">
        <!-- Track berisi 2Ã— deret logo, supaya seamless -->
        <div class="uni-carousel-track" id="uni-carousel-track">
          <!-- ====== SET LOGO (Hanya Sekali) ====== -->
          <!-- UI -->
          <div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600">
            <img src="{% static 'img/univ-ui.png' %}" alt="Universitas Indonesia" class="max-h-12 max-w-[48px] object-contain" />
          </div>

          <!-- PNJ -->
          <div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600">
            <img src="{% static 'img/univ-pnj.png' %}" alt="Politeknik Negeri Jakarta" class="max-h-12 max-w-[48px] object-contain" />
          </div>

          <!-- Gunadarma -->
          <div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600">
            <img src="{% static 'img/univ-gunadarma.png' %}" alt="Universitas Gunadarma" class="max-h-12 max-w-[48px] object-contain" />
          </div>

          <!-- Polimedia (logo horizontal) -->
          <div class="flex h-16 w-40 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600">
            <img src="{% static 'img/univ-polimedia.png' %}" alt="Politeknik Negeri Media Kreatif" class="max-h-12 max-w-[140px] object-contain" />
          </div>

          <!-- Univ Pancasila -->
          <div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600">
            <img src="{% static 'img/univ-pancasila.png' %}" alt="Universitas Pancasila" class="max-h-12 max-w-[48px] object-contain" />
          </div>

          <!-- Unindra -->
          <div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600">
            <img src="{% static 'img/univ-unindra.png' %}" alt="Universitas Indraprasta PGRI" class="max-h-12 max-w-[48px] object-contain" />
          </div>

          <!-- IISIP -->
          <div class="flex h-16 w-24 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600">
            <img src="{% static 'img/univ-iisip.png' %}" alt="IISIP Jakarta" class="max-h-12 max-w-[88px] object-contain" />
          </div>

          <!-- BSI -->
          <div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600">
            <img src="{% static 'img/univ-bsi.png' %}" alt="Bina Sarana Informatika" class="max-h-12 max-w-[72px] object-contain" />
          </div>

          <!-- STT NF -->
          <div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600">
            <img src="{% static 'img/univ-stt.png' %}" alt="Bina Sarana Informatika" class="max-h-12 max-w-[72px] object-contain" />
          </div>

        </div>
      </div>
    </div>
  </div>
</section>


<!-- STATISTIK SANTRI -->
<section id="totalmahasiswa" class="mb-12 rounded-3xl bg-gradient-to-r from-[var(--card-left-color)] to-[var(--card-right-color)] px-4 py-8 text-center text-[var(--primary-color)] dark:text-emerald-950 shadow-md">
  <div class="mx-auto max-w-4xl">
    <div class="grid gap-6 sm:grid-cols-2 md:grid-cols-4">
      <div>
        <div class="mx-auto mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-black/10">
          <span class="text-xl">ğŸ“</span>
        </div>
        <p class="text-2xl font-bold">
          {{ stats.dewan_guru|default:0 }}
        </p>
        <p class="text-sm font-semibold">Dewan Guru</p>
      </div>

      <div>
        <div class="mx-auto mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-black/10">
          <span class="text-xl">ğŸ‘¥</span>
        </div>
        <p class="text-2xl font-bold">
          {{ stats.total_mahasiswa|default:0 }}
        </p>
        <p class="text-sm font-semibold">Total Mahasiswa/i</p>
      </div>

      <div>
        <div class="mx-auto mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-black/10">
          <span class="text-xl">ğŸ‘¨</span>
        </div>
        <p class="text-2xl font-bold">
          {{ stats.mahasiswa|default:0 }}
        </p>
        <p class="text-sm font-semibold">Mahasiswa</p>
      </div>

      <div>
        <div class="mx-auto mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-black/10">
          <span class="text-xl">ğŸ‘©</span>
        </div>
        <p class="text-2xl font-bold">
          {{ stats.mahasiswi|default:0 }}
        </p>
        <p class="text-sm font-semibold">Mahasiswi</p>
      </div>
    </div>
    <p class="mt-3 text-xs font-semibold text-emerald-900/80">
      *Data per Januari 2025
    </p>
  </div>
</section>


<!-- LOKASI & KONTAK -->
<section id="lokasi" class="mb-8">
  <div class="mx-auto max-w-5xl">
    <div class="mb-6 text-center">
      <h2 class="text-xl font-semibold tracking-tight sm:text-2xl">
        Lokasi Strategis Kami
      </h2>
      <div class="mt-2 h-1 w-20 rounded-full bg-[var(--nav-link-color-active)] mx-auto"></div>
    </div>

    <div class="grid gap-6 md:grid-cols-[minmax(0,2fr)_minmax(0,3fr)] md:items-stretch">
      <!-- Kontak kiri -->
      <div class="space-y-4 rounded-3xl bg-[var(--primary-color)] p-5 text-sm text-[var(--secondary-color)] shadow-md dark:bg-[var(--primary-color)]/95"">
        <div>
          <h3 class="flex items-center gap-2 text-sm font-semibold">
            <span class="flex h-7 w-7 items-center justify-center rounded-full bg-[var(--nav-link-color-active)] text-[var(--primary-color)]">
              ğŸ“
            </span>
            Alamat
          </h3>
          <p class="mt-1 text-xs leading-relaxed">
            Jl. Sawo No.33b, Pondok Cina, Kecamatan Beji, Kota Depok, Jawa Barat 16424
          </p>
        </div>

        <div>
          <h3 class="flex items-center gap-2 text-sm font-semibold">
            <span class="flex h-7 w-7 items-center justify-center rounded-full bg-[var(--nav-link-color-active)] text-[var(--primary-color)]">
              âœ‰ï¸
            </span>
            Email
          </h3>
          <p class="mt-1 text-xs">ppm.alfaqihmandiri[AT]gmail.com</p>
        </div>

        <div>
          <h3 class="flex items-center gap-2 text-sm font-semibold">
            <span class="flex h-7 w-7 items-center justify-center rounded-full bg-[var(--nav-link-color-active)] text-[var(--primary-color)]">
              â˜ï¸
            </span>
            No. Telepon
          </h3>
          <p class="mt-1 text-xs">+62 858-8268-5011</p>
        </div>

        <div>
          <h3 class="flex items-center gap-2 text-sm font-semibold">
            <span class="flex h-7 w-7 items-center justify-center rounded-full bg-[var(--nav-link-color-active)] text-[var(--primary-color)]">
              ğŸ•’
            </span>
            Jam Operasi
          </h3>
          <p class="mt-1 text-xs">Senin â€“ Sabtu: 06.00 â€“ 22.00</p>
        </div>
      </div>

      <!-- Peta kanan -->
      <div class="overflow-hidden rounded-3xl shadow-md">
        <iframe
          title="Lokasi PPM AFM"
          class="h-[260px] w-full md:h-full"
          loading="lazy"
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3965.241627011433!2d106.8302453883966!3d-6.362766414862501!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69eda10e3924d7%3A0xae90911f67ac448f!2sAl%20Faqih%20Mandiri%20Islamic%20Boarding%20School!5e0!3m2!1sen!2sid!4v1742930567075!5m2!1sen!2sid"
          style="border:0;"
          referrerpolicy="no-referrer-when-downgrade"
          allowfullscreen
        ></iframe>
      </div>
    </div>
  </div>
</section>

<!-- Seksi dummy pendaftaran (anchor) -->
<section id="pendaftaran" class="mb-4">
  <div class="mx-auto max-w-3xl rounded-3xl border border-dashed border-lime-300 bg-lime-50 px-5 py-4 text-xs text-emerald-900 shadow-sm dark:border-lime-700 dark:bg-lime-900/20 dark:text-lime-50">
    <h3 class="text-sm font-semibold">Pendaftaran Santri Baru (PSB)</h3>
    <p class="mt-1">
      Informasi lengkap terkait alur pendaftaran, syarat berkas, dan jadwal seleksi akan diinformasikan nanti yaa ğŸ˜Š
    </p>
  </div>
</section>


<script>
  document.addEventListener("DOMContentLoaded", function () {
    const track = document.getElementById("uni-carousel-track");
    if (!track) return;

    // Simpan child nodes asli
    const items = Array.from(track.children);
    // Clone satu set dan append untuk bikin loop halus
    items.forEach(item => {
      const clone = item.cloneNode(true);
      clone.setAttribute("aria-hidden", "true"); // aksesibilitas
      track.appendChild(clone);
    });
  });
</script>
{% endblock %}
